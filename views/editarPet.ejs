<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="utf-8" />
    <title>Pet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="/css2/sobre.css" rel="stylesheet" />
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top bg-light">
        <div class="container-fluid">
            <img src="/img/navimage.png" />
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false" style="color: #000; text-decoration: underline">
                            Páginas
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/">Início</a></li>
                            <li><a class="dropdown-item" href="/sobre">Sobre</a></li>
                            <li>
                                <a class="dropdown-item" href="/parceiros">Parceiros</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/conteudos">Conteúdos</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/cadastrarPet">Cadastrar pet</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/pets"
                            style="color: #000; text-decoration: underline">Adotar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/perfil" style="color: #000; text-decoration: underline">Perfil</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <% pet.forEach(function(pet) { %>

        <form action="/pets/<%= pet.id_animal %>/editar" method="POST" style="display: inline_block;">


            <div class="container" style="padding-top: 100px">
                <div class="main-body">
                    <div class="row gutters-sm">
                        <div class="col-md-4 mb-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex flex-column align-items-center text-center">
                                        <img src="/<%= pet.caminho_imagem %>"
                                            class="img-fluid img-thumbnail mt-4 mb-2" />
                                        <hr />
                                        <div>
                                            <button type="submit" class="btn"
                                                style="background-color: #e3b04b; color: #fff;">
                                                Finalizar edição
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">

                            <div class="card mb-3">
                                <div class="card-body">

                                    <form action="/cadastrarPet" class="signin-form" method="POST">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar nome</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control-sm border-1 mb-0"
                                                    placeholder="Digite aqui..." name="nome" value="<%= pet.nome %>" />
                                            </div>
                                        </div>

                                        <hr />

                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar objetivo</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <select class="border-1 form-control-sm" name="objetivo" id="objetivo"
                                                    required>
                                                    value="<%= pet.objetivo %>"
                                                        <option value="Adoção" <%='Adoção' ? 'selected' : '' %>>Adoção
                                                        </option>
                                                        <option value="Apadrinhamento" <%='Apadrinhamento' ? 'selected'
                                                            : '' %>>Apadrinhamento</option>
                                                        <option value="Desaparecido" <%='Desaparecido' ? 'selected' : ''
                                                            %>>Desaparecido</option>
                                                </select>
                                            </div>
                                        </div>

                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar localização</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control-sm border-1 mb-0"
                                                    placeholder="Digite aqui..." name="localizacao"
                                                    value="<%= pet.localizacao %>" required />
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar gênero</h6>
                                            </div>
                                            <div class="col-sm-9 text-secondary">
                                                <select class="border-1 form-control-sm" name="genero" id="genero">
                                                    value="<%= pet.nome %>"
                                                        <option value="Macho" <%='Macho' ? 'selected' : '' %>>Macho
                                                        </option>
                                                        <option value="Fêmea" <%='Fêmea' ? 'selected' : '' %>>Fêmea
                                                        </option>
                                                </select>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar porte</h6>
                                            </div>
                                            <div class="col-sm-9 text-secondary">
                                                <select class="border-1 form-control-sm" name="porte" id="porte"
                                                    required>
                                                    value="<%= pet.porte %>"
                                                        <option value="Grande" <%='Grande' ? 'selected' : '' %>>Grande
                                                        </option>
                                                        <option value="Médio" <%='Médio' ? 'selected' : '' %>>Médio
                                                        </option>
                                                        <option value="Médio" <%='Pequeno' ? 'selected' : '' %>>Pequeno
                                                        </option>

                                                </select>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar espécie</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control-sm border-1 mb-0"
                                                    placeholder="Digite aqui..." name="especie"
                                                    value="<%= pet.especie %>" required />
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar idade</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control-sm border-1"
                                                    placeholder="Digite aqui..." name="idade"
                                                    value="<%= pet.idade %>" />
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar vacinas realizadas</h6>
                                            </div>
                                            <div class="col-sm-9 d-flex flex-row align-items-center">
                                                <select class="border-1 form-control-sm" name="vacina_obrigatoria"
                                                    id="vacina_obrigatoria">
                                                    value="<%= pet.vacina_obrigatoria %>"
                                                        <option value="v1" <%='v1' ? 'selected' : '' %>>v1</option>
                                                        <option value="v2" <%='v2' ? 'selected' : '' %>>v2</option>
                                                        <option value="v3" <%='v3' ? 'selected' : '' %>>v3</option>
                                                        <option value="Nenhuma" <%='Nenhuma' ? 'selected' : '' %>
                                                            >Nenhuma</option>
                                                        <option value="Não sei dizer" <%='Não sei dizer' ? 'selected'
                                                            : '' %>>Não sei dizer</option>
                                                        <option value="outra(s)" <%='outra(s)' ? 'selected' : '' %>
                                                            >Outra(s)</option>

                                                </select>
                                                <div id="outraVacina" class="ms-3" style="display: none;">
                                                    <label for="campoOutraVacina"></label>
                                                    <input type="text" class="form-control-sm border-1"
                                                        id="campoOutraVacina" name="vacina_obrigatoria"
                                                        placeholder="Digite aqui..."
                                                        value="<%= pet.vacina_obrigatoria %>">
                                                </div>

                                                <script>
                                                    var selectVacina = document.getElementById("vacina_obrigatoria");
                                                    var divOutraVacina = document.getElementById("outraVacina");

                                                    selectVacina.addEventListener("change", function () {
                                                        if (selectVacina.value === "outra(s)") {
                                                            divOutraVacina.style.display = "block";
                                                        } else {
                                                            divOutraVacina.style.display = "none";
                                                        }
                                                    });
                                                </script>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <h6 class="mb-0">Editar descrição</h6>
                                            </div>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control-sm border-1"
                                                    placeholder="Digite aqui..." name="descricao"
                                                    value="<%= pet.descricao %>" />
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <% }) %>

        <nav class="navbar navbar-expand-lg mt-5" style="background-color: #260D33;">
            <div class="container-fluid">
                <img style="width: 25vh; margin-left: 5vw;" src="/img/logofooter.png" />
                <div class="collapse navbar-collapse" id="navbarNavDropdown" style="margin-left: 25vw">
                    <ul id="footer" class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active text-light" aria-current="page" href="/" style="color: #000;">Topo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-light" aria-current="page" href="/pets" style="color: #000;">Adotar</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" href="/" style="color: #000;">Início</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
